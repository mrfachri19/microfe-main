// ** React Imports
import { useEffect } from 'react'
import { NavLink } from 'react-router-dom'

// ** Icons Imports
import { Disc, X, Circle } from 'react-feather'

// ** Config
import themeConfig from '@configs/themeConfig'

// ** Utils
import { getUserData, getHomeRouteForLoggedInUser } from '@utils'

const VerticalMenuHeader = props => {
  // ** Props
  const { menuCollapsed, setMenuCollapsed, setMenuVisibility, setGroupOpen, menuHover } = props

  // ** Vars
  const user = getUserData()

  // ** Reset open group
  useEffect(() => {
    if (!menuHover && menuCollapsed) setGroupOpen([])
  }, [menuHover, menuCollapsed])

  // ** Menu toggler component
  const Toggler = () => {
    if (!menuCollapsed) {
      return (
        <Disc
          size={20}
          data-tour='toggle-icon'
          className='text-primary toggle-icon d-none d-xl-block'
          onClick={() => setMenuCollapsed(true)}
        />
      )
    } else {
      return (
        <Circle
          size={20}
          data-tour='toggle-icon'
          className='text-primary toggle-icon d-none d-xl-block'
          onClick={() => setMenuCollapsed(false)}
        />
      )
    }
  }

  return (
    <div className='navbar-header'>
      <ul className='nav navbar-nav flex-row'>
        <li className='nav-item me-auto'>
          <NavLink to={user ? getHomeRouteForLoggedInUser(user.role) : '/'} className='navbar-brand'>
            <span className='brand-logo'>
              <img src={themeConfig.app.appLogoImage} alt='logo' />
            </span>
            <h2 className='brand-text mb-2 ps-1'>
            <svg width="87" height="21" viewBox="0 0 87 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M2.28786 1.01338C1.21656 1.40839 0.564861 2.52317 0.805902 3.56773C0.921958 4.08562 1.01123 4.24362 1.40404 4.66496C1.75221 5.05119 2.48426 5.36719 3.02884 5.36719C3.20738 5.36719 3.54663 5.30574 3.76089 5.23552C5.66243 4.59474 5.80527 2.01406 3.993 1.09238C3.60912 0.899271 2.71637 0.855381 2.28786 1.01338Z" fill="#E53E3E"/>
              <path d="M42.3173 0.968546C41.6121 1.19677 40.9961 1.76733 40.8175 2.373C40.5408 3.25956 40.8175 4.28657 41.4782 4.82201C42.978 6.03336 45.2009 5.02391 45.192 3.12789C45.192 1.90777 44.3171 0.99488 43.0762 0.924657C42.7816 0.907101 42.4423 0.924657 42.3173 0.968546Z" fill="#E53E3E"/>
              <path d="M33.4612 7.21C32.8006 7.43822 32.0864 7.85078 31.6847 8.237L31.3544 8.54423L31.2919 8.27211C31.1223 7.49967 30.3723 7.16611 28.8904 7.22755C27.4888 7.28022 27.0335 7.57867 26.8728 8.57056C26.7657 9.23768 26.7567 18.9811 26.8728 19.4463C26.9799 19.9115 27.212 20.21 27.6406 20.4206C27.9352 20.5699 28.1673 20.5962 29.1047 20.5962C30.3277 20.5962 30.7562 20.4733 31.0865 20.0256C31.3722 19.6394 31.4258 18.9284 31.4258 15.7245V12.5908L31.6847 12.2397C32.2382 11.4848 33.3541 11.2215 34.4343 11.5989C35.1307 11.8359 35.7824 11.8271 36.1663 11.5726C36.8358 11.1337 37.425 9.48346 37.2286 8.56178C37.0679 7.81567 36.7108 7.49089 35.7556 7.24511C34.9164 7.02566 34.0237 7.00811 33.4612 7.21Z" fill="#E53E3E"/>
              <path d="M50.7635 7.21845C50.1207 7.315 49.7458 7.51689 49.5047 7.9119C49.3351 8.20157 49.3262 8.3859 49.2994 11.3791C49.2816 13.5209 49.2994 14.7498 49.3708 15.1975C49.8172 17.9801 51.8169 20.1043 54.397 20.5344C55.8432 20.7802 56.852 20.4905 57.9144 19.5513L58.45 19.0685L58.5036 19.4284C58.6107 20.2096 59.1642 20.5695 60.3516 20.6222C61.7978 20.6924 62.6102 20.3589 62.8334 19.604C62.9762 19.1387 62.9852 8.72824 62.8423 8.2279C62.6281 7.46423 62.0121 7.18334 60.6194 7.18334C59.4588 7.19211 58.9589 7.37645 58.6554 7.9119L58.4322 8.3069L58.3875 11.4669C58.3518 13.5912 58.3072 14.7059 58.2358 14.8552C58.0662 15.2238 57.5841 15.7154 57.1913 15.9173C56.9145 16.0665 56.6556 16.1104 56.1557 16.1104C55.3165 16.1192 54.9237 15.9875 54.4684 15.5311C53.8703 14.9517 53.8345 14.7059 53.8345 11.5459C53.8345 8.40346 53.7899 8.04356 53.3346 7.65734C52.8525 7.236 51.7991 7.06045 50.7635 7.21845Z" fill="#E53E3E"/>
              <path d="M74.0102 7.1743C73.2156 7.31475 72.4032 7.79753 71.8587 8.47342C71.4926 8.92109 71.4748 8.91231 71.3766 8.33298C71.2427 7.52542 70.5017 7.1743 69.0287 7.22697C67.9395 7.26208 67.5467 7.42886 67.2253 7.99942L67.0021 8.39442L66.9754 13.4592C66.9486 18.7259 66.9932 19.6125 67.2967 20.0163C67.636 20.4727 67.9931 20.5956 69.0733 20.6307C70.6802 20.6746 71.2962 20.3674 71.5016 19.4106C71.5641 19.1385 71.5998 17.8306 71.5998 16.0838C71.5998 12.9238 71.6533 12.5376 72.1086 12.1074C72.8943 11.3701 74.1352 11.6247 74.5637 12.6078C74.644 12.8009 74.6887 13.7665 74.7244 16.1628C74.769 18.7172 74.8047 19.5159 74.9029 19.7178C75.2511 20.4552 75.8046 20.6746 77.2062 20.6219C78.3936 20.5868 78.7685 20.4288 79.0988 19.8495L79.322 19.4545L79.3667 16.1189C79.4113 13.0028 79.4202 12.757 79.5898 12.441C79.8398 11.9582 80.1612 11.7563 80.7236 11.7037C81.5628 11.6422 82.1699 12.0548 82.3931 12.8711C82.4555 13.0906 82.4913 14.2931 82.4913 16.0926C82.4913 19.3316 82.5359 19.7354 82.9733 20.1655C83.3661 20.5517 83.8661 20.6658 84.9909 20.6219C86.1426 20.5868 86.5532 20.4201 86.8211 19.8934C86.9907 19.5598 86.9996 19.3667 86.9996 15.8117C86.9996 11.6949 86.955 11.256 86.4104 9.97443C85.7587 8.43831 84.4821 7.46397 82.7769 7.20941C81.5003 7.00752 80.1969 7.51664 79.0096 8.68409L78.3489 9.33365L78.2061 9.13176C77.9472 8.7192 77.1794 7.98186 76.7955 7.76242C76.0903 7.34986 74.7065 7.06019 74.0102 7.1743Z" fill="#E53E3E"/>
              <path d="M1.89432 7.33288C1.35868 7.46455 1.11763 7.64889 0.912303 8.08778C0.778391 8.35989 0.760536 8.98312 0.733754 13.5213C0.706972 18.8231 0.742682 19.6043 1.05514 20.0256C1.42117 20.5084 1.7247 20.5962 2.9924 20.5962C4.41186 20.5962 4.75111 20.4733 5.07249 19.8501L5.2689 19.4639V13.9338C5.2689 8.53545 5.2689 8.395 5.08142 8.03511C4.8136 7.48211 4.33152 7.28022 3.22451 7.2451C2.70672 7.22755 2.18 7.26266 1.89432 7.33288Z" fill="#E53E3E"/>
              <path d="M13.9828 7.35063C11.8492 7.85975 9.84048 9.87865 9.17985 12.1872C8.93881 13.0474 8.91203 14.5836 9.13522 15.4789C9.78692 18.1035 12.2152 20.3594 14.6613 20.6052C15.8665 20.728 17.2146 20.333 17.9109 19.6572L18.2858 19.306L18.3483 19.5782C18.4287 19.9644 18.8304 20.3418 19.2946 20.4735C19.5089 20.5349 20.107 20.5876 20.6248 20.5876C21.7943 20.5964 22.2853 20.412 22.5532 19.8854C22.7139 19.5606 22.7228 19.2973 22.7228 13.9252C22.7228 8.42153 22.7228 8.29864 22.5353 7.9563C22.2586 7.42963 21.8568 7.26285 20.6963 7.22774C19.9731 7.20141 19.6428 7.22774 19.2946 7.34185C18.7947 7.49986 18.4108 7.8773 18.3305 8.2723C18.268 8.58831 18.2055 8.58831 17.9734 8.28108C17.7413 7.97386 16.8842 7.51741 16.2058 7.34185C15.563 7.18385 14.6881 7.18385 13.9828 7.35063ZM16.7414 11.8537C17.4734 12.1784 18.0269 13.0562 18.0359 13.8989C18.0359 14.7065 17.6877 15.356 16.9914 15.8037C15.3309 16.8834 13.0454 15.2243 13.5989 13.3459C13.7775 12.7578 14.3399 12.0819 14.8666 11.8537C15.3398 11.6342 16.2593 11.6342 16.7414 11.8537Z" fill="#E53E3E"/>
              <path d="M41.8439 7.33294C41.2815 7.48216 40.969 7.71916 40.8351 8.09661C40.6834 8.50917 40.6566 19.2445 40.8083 19.6834C41.0583 20.3944 41.6118 20.6401 42.9777 20.6401C44.2633 20.6314 44.7453 20.4295 45.0667 19.7624C45.2006 19.4815 45.2185 18.9021 45.2185 13.9251C45.2185 8.48284 45.2185 8.38628 45.031 8.04394C44.7453 7.49972 44.2186 7.28027 43.1384 7.24516C42.5849 7.21883 42.1118 7.25394 41.8439 7.33294Z" fill="#E53E3E"/>
              </svg>
            </h2>
          </NavLink>
        </li>
        <li className='nav-item nav-toggle'>
          <div className='nav-link modern-nav-toggle cursor-pointer'>
            <Toggler />
            <X onClick={() => setMenuVisibility(false)} className='toggle-icon icon-x d-block d-xl-none' size={20} />
          </div>
        </li>
      </ul>
    </div>
  )
}

export default VerticalMenuHeader
